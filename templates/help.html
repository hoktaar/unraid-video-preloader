{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto space-y-6">
    
    <div class="glass rounded-xl p-6 shadow-xl">
        <h2 class="text-2xl font-bold mb-4">ğŸ¬ Unraid Video Preloader</h2>
        <p class="text-gray-300 mb-4">
            Der Video Preloader lÃ¤dt strategisch wichtige Teile von Videodateien in den RAM-Cache, 
            um sofortiges Starten ohne Buffering zu ermÃ¶glichen - perfekt fÃ¼r Plex/Jellyfin auf Unraid.
        </p>
        <div class="flex gap-4">
            <a href="https://github.com/hoktaar/unraid-video-preloader" target="_blank" class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm transition-all">
                ğŸ“– GitHub Repository
            </a>
            <a href="https://hub.docker.com/r/hoktaar/unraid-video-preloader" target="_blank" class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm transition-all">
                ğŸ³ Docker Hub
            </a>
        </div>
    </div>

    <!-- How it works -->
    <div class="glass rounded-xl p-6 shadow-xl">
        <h3 class="text-xl font-semibold mb-4">âš™ï¸ Wie funktioniert es?</h3>
        <div class="space-y-4 text-gray-300">
            <div class="flex gap-4">
                <div class="text-2xl">1ï¸âƒ£</div>
                <div>
                    <h4 class="font-semibold text-white">Dateien scannen</h4>
                    <p class="text-sm">Der Preloader durchsucht die konfigurierten Pfade nach Videodateien.</p>
                </div>
            </div>
            <div class="flex gap-4">
                <div class="text-2xl">2ï¸âƒ£</div>
                <div>
                    <h4 class="font-semibold text-white">Strategisch laden</h4>
                    <p class="text-sm">Die ersten MB (Head) und letzten MB (Tail) jeder Datei werden in den RAM geladen.</p>
                </div>
            </div>
            <div class="flex gap-4">
                <div class="text-2xl">3ï¸âƒ£</div>
                <div>
                    <h4 class="font-semibold text-white">Sofort abspielen</h4>
                    <p class="text-sm">Videos starten sofort ohne Buffering, da die wichtigen Teile bereits im RAM sind.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Features -->
    <div class="glass rounded-xl p-6 shadow-xl">
        <h3 class="text-xl font-semibold mb-4">ğŸš€ Features</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-slate-800/50 p-4 rounded-lg">
                <h4 class="font-semibold text-emerald-400 mb-2">ğŸ“º Tautulli Integration</h4>
                <p class="text-sm text-gray-400">Cached automatisch die beliebtesten Filme und neuesten Serien basierend auf Wiedergabestatistiken.</p>
            </div>
            <div class="bg-slate-800/50 p-4 rounded-lg">
                <h4 class="font-semibold text-blue-400 mb-2">ğŸ“¡ Live-Monitoring</h4>
                <p class="text-sm text-gray-400">Erkennt aktive Serien-Streams und lÃ¤dt automatisch die nÃ¤chsten Episoden vor.</p>
            </div>
            <div class="bg-slate-800/50 p-4 rounded-lg">
                <h4 class="font-semibold text-purple-400 mb-2">â° Auto-Scheduler</h4>
                <p class="text-sm text-gray-400">FÃ¼hrt Preloads automatisch nach Zeitplan aus (Cron-Format).</p>
            </div>
            <div class="bg-slate-800/50 p-4 rounded-lg">
                <h4 class="font-semibold text-yellow-400 mb-2">ğŸ¬ Plex Webhook</h4>
                <p class="text-sm text-gray-400">Reagiert auf Plex-Events und cached Medien bei Bedarf.</p>
            </div>
        </div>
    </div>

    <!-- Caching Strategies -->
    <div class="glass rounded-xl p-6 shadow-xl">
        <h3 class="text-xl font-semibold mb-4">ğŸ“Š Caching-Strategien</h3>
        <div class="space-y-4">
            <div class="border-l-4 border-green-500 pl-4">
                <h4 class="font-semibold text-white">ğŸ“… Neueste Releases</h4>
                <p class="text-sm text-gray-400">Filme und Serien sortiert nach Erscheinungsdatum. Ideal fÃ¼r neue Blockbuster und aktuelle Serien.</p>
            </div>
            <div class="border-l-4 border-blue-500 pl-4">
                <h4 class="font-semibold text-white">ğŸ‘€ Meistgesehen</h4>
                <p class="text-sm text-gray-400">Die beliebtesten Inhalte der letzten 30 Tage. Perfekt fÃ¼r Dauerbrenner und Lieblingsfilme.</p>
            </div>
            <div class="border-l-4 border-purple-500 pl-4">
                <h4 class="font-semibold text-white">â• Zuletzt hinzugefÃ¼gt</h4>
                <p class="text-sm text-gray-400">Frisch zur Bibliothek hinzugefÃ¼gte Inhalte. FÃ¼r neue Downloads.</p>
            </div>
        </div>
    </div>

    <!-- Path Mappings -->
    <div class="glass rounded-xl p-6 shadow-xl">
        <h3 class="text-xl font-semibold mb-4">ğŸ”„ Pfad-Mappings</h3>
        <p class="text-gray-300 mb-4">
            Wenn Plex/Tautulli andere Pfade sieht als der Container, musst du Mappings konfigurieren:
        </p>
        <div class="bg-slate-900/50 p-4 rounded-lg font-mono text-sm">
            <p class="text-gray-400"># Format: plex_pfad:container_pfad</p>
            <p class="text-green-400">/media/tv:/data/tv</p>
            <p class="text-green-400">/media/movies:/data/movies</p>
        </div>
        <p class="text-xs text-gray-500 mt-2">
            Tipp: Schau in die Logs nach "âš ï¸ Pfad nicht gefunden" um die richtigen Mappings zu finden.
        </p>
    </div>

    <!-- Troubleshooting -->
    <div class="glass rounded-xl p-6 shadow-xl">
        <h3 class="text-xl font-semibold mb-4">ğŸ”§ Troubleshooting</h3>
        <div class="space-y-3">
            <details class="bg-slate-800/50 rounded-lg">
                <summary class="p-3 cursor-pointer font-semibold">Dateien werden nicht gecached</summary>
                <div class="p-3 pt-0 text-sm text-gray-400">
                    <ul class="list-disc list-inside space-y-1">
                        <li>PrÃ¼fe ob die Pfade korrekt gemountet sind</li>
                        <li>Stelle sicher, dass die Dateien grÃ¶ÃŸer als "Min. File Size" sind</li>
                        <li>PrÃ¼fe die RAM-Auslastung (zu hoch = keine neuen Dateien)</li>
                    </ul>
                </div>
            </details>
            <details class="bg-slate-800/50 rounded-lg">
                <summary class="p-3 cursor-pointer font-semibold">Live-Monitoring findet keine Episoden</summary>
                <div class="p-3 pt-0 text-sm text-gray-400">
                    <ul class="list-disc list-inside space-y-1">
                        <li>Konfiguriere Pfad-Mappings (Plex-Pfade â‰  Container-Pfade)</li>
                        <li>PrÃ¼fe ob Tautulli API-Key korrekt ist</li>
                        <li>Teste mit "/api/test-live-monitoring"</li>
                    </ul>
                </div>
            </details>
            <details class="bg-slate-800/50 rounded-lg">
                <summary class="p-3 cursor-pointer font-semibold">Tautulli-Verbindung schlÃ¤gt fehl</summary>
                <div class="p-3 pt-0 text-sm text-gray-400">
                    <ul class="list-disc list-inside space-y-1">
                        <li>PrÃ¼fe die Tautulli URL (inkl. Port, z.B. http://tautulli:8181)</li>
                        <li>API-Key findest du in Tautulli â†’ Settings â†’ Web Interface</li>
                        <li>Stelle sicher, dass Container sich erreichen kÃ¶nnen (gleiche Docker Network)</li>
                    </ul>
                </div>
            </details>
        </div>
    </div>

</div>
{% endblock %}

